<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Teachable Machine - 동물상 분류 (드래그&드롭 수정)</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="container">
    <h2>Teachable Machine - 동물상 분류 (멀티 업로드 & 드래그드롭)</h2>

    <!-- 드래그 드롭 이벤트를 처리하기 위해 ondragover, ondrop 추가 -->
    <div 
      class="image-upload-wrap"
      ondragover="onDragOver(event)"
      ondragleave="onDragLeave(event)"
      ondrop="onDrop(event)"
    >
      <!-- multiple로 여러 장 업로드 가능 -->
      <input
        class="file-upload-input"
        type="file"
        id="imageUpload"
        accept="image/*"
        multiple
        onchange="readFiles(this)"
      />
      <div class="drag-text">
        <h3>이미지를 여러 장 드래그하거나 클릭하여 업로드하세요.</h3>
      </div>
    </div>

    <!-- 업로드된 이미지들 미리보기 -->
    <div class="preview-container" id="previewContainer"></div>

    <!-- 예측 버튼 -->
    <button type="button" onclick="predictAll()" class="file-upload-btn">예측하기</button>
    <div id="label-container"></div>

    <!-- SNS 공유 버튼 -->
    <button type="button" class="share-btn" onclick="shareOnTwitter()">트위터로 공유하기</button>

    <!-- 댓글 입력 섹션 -->
    <div class="comment-section">
      <h3>댓글 달기</h3>
      <textarea id="commentInput" placeholder="댓글을 입력하세요..."></textarea>
      <button id="submitCommentBtn">댓글 달기</button>
      <div id="commentList"></div>
    </div>

    <!-- 히스토리 -->
    <div class="history-section">
      <h3>예측 히스토리</h3>
      <button type="button" id="toggleHistoryBtn">히스토리 열기/닫기</button>
      <div id="historyContainer" style="display: none;"></div>
    </div>
  </div>

  <!-- TensorFlow.js 및 Teachable Machine 라이브러리 -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

  <!-- 내 로컬 스크립트 -->
  <script src="script.js"></script>
</body>
</html>
